<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
<title>Obq Arnold Shaders-Obq_ToonSimple</title>
<meta http-equiv="Content-Language" content="en-us" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="description" content="Obq_Shaders for Arnold" />
<meta name="keywords" content="Obq_Shaders" />
<meta name="author" content="Marc-Antoine Desjardins - Oblique FX" />
<style type="text/css" media="all">@import "../css/master.css";</style>
</head>
<body>
<div id="page-container">
<div id="banner"><img src="../images/banner.jpg" alt="Banner"></div>
<div id="topMenu">
<div id="topMenu-left">
<a href="http://www.obliquefx.com"><img src="../images/oblique.png" alt="Oblique Logo" width = "150px"></a></div>
<div id="topMenu-right"><table border="0" cellpadding="9" cellspacing="0"><tr>
<td width="50"> </td>
<td><a href="../index.html">Home</a></td>
<td>|</td>
<td><a href="../news.html">News</a></td>
<td>|</td>
<td><a href="../documentation.html">Documentation</a></td>
<td>|</td>
<td><a href="../downloads.html">Downloads</a></td>
<td>|</td>
<td><a href="../about.html">About</a></td>
<td width="50"> </td>
</tr></table>
</div>
</div>
<div id="content">
<div id="content-sidebar">
<p align="left">Node Reference</p>
<table border="0" cellpadding ="2" cellspacing ="0">
<tr><td width="2"></td><td><a href="Obq_AngularCamera.html">Obq_AngularCamera</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Atmosphere.html">Obq_Atmosphere</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Bend4Stereo.html">Obq_Bend4Stereo</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_CameraProjectionSpace.html">Obq_CameraProjectionSpace</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_ChangeRange.html">Obq_ChangeRange</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Color.html">Obq_Color</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_ColorspaceConverter.html">Obq_ColorspaceConverter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Environment.html">Obq_Environment</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Etching.html">Obq_Etching</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Fresnel.html">Obq_Fresnel</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Fresnel2Standards.html">Obq_Fresnel2Standards</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Hair.html">Obq_Hair</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_IESLightFilter.html">Obq_IESLightFilter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_KettleUVStereoLens.html">Obq_KettleUVStereoLens</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_LensDistortion.html">Obq_LensDistortion</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_LightSaturationFilter.html">Obq_LightSaturationFilter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MeasuredMaterial.html">Obq_MeasuredMaterial</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MessageGet.html">Obq_MessageGet</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MessageSet.html">Obq_MessageSet</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MessageStore.html">Obq_MessageStore</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_NodeInfo.html">Obq_NodeInfo</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Opacity.html">Obq_Opacity</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RandomColor.html">Obq_RandomColor</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RandomID.html">Obq_RandomID</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RayDepth.html">Obq_RayDepth</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RGBComEmit.html">Obq_RGBComEmit</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RGBComLightFilter.html">Obq_RGBComLightFilter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Root2Tip.html">Obq_Root2Tip</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_SetAlpha.html">Obq_SetAlpha</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Shadow.html">Obq_Shadow</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Simbiont.html">Obq_Simbiont</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_SpectrumColor.html">Obq_SpectrumColor</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_StereoLens.html">Obq_StereoLens</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_SurfaceEnvironment.html">Obq_SurfaceEnvironment</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Thickness.html">Obq_Thickness</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Toon.html">Obq_Toon</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_ToonSimple.html">Obq_ToonSimple</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_TransformShadingPoint.html">Obq_TransformShadingPoint</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_TransformUV.html">Obq_TransformUV</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_UVRemapLensDistortion.html">Obq_UVRemapLensDistortion</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_VolumeThickness.html">Obq_VolumeThickness</a></td></tr>
</table>
</div>
<div id="content-help"><br>
<h2>Obq_ToonSimple</h2>
<br>
<h5>Class</h5>
<p>Material</p>
<br>
<h5>Output</h5>
<p>Color RGB</p>
<br>
<h5>Synopsis</h5>
<p>A simple toon shader based on Obq_Toon. A dot product for each component (diffuse = NdotL, highlight = NdotH and rimlight = NdotV) is calculated to determine the shading and then remapped according to some rules.</p>
<br>
<img src="images/Obq_Toon_01.jpg" alt="Synopsis image" width=512 >
<p class="idesc">Fig.1 : A simple toon example.</p>
<br>
<h5>Usage</h5>
<p>For a classic toon look, use it exactly like the Mental Ray toon shader with the coverage and softness parameters.</p>
<br>
<hr/>
<h4>Globals</h4>
<br>
<h5>Ambient Color <em>[ambient_color]</em></h5>
<p>This is a simple constant.</p>
<br>
<h5>Ambient Scale <em>[ambient_scale]</em></h5>
<p>Let's you adjust the Ambient mix.</p>
<br>
<h5>Multiply by scene ambience <em>[ambient_multAmbience]</em></h5>
<p>When checked, this multiplies the ambient color by the scene ambience.</p>
<br>
<h5>No Internal Ambient <em>[ambient_noInternal]</em></h5>
<p>With a non-opaque object, check this to disable the ambient contribution of back-facing polygons. See <em>opacity</em> for example.</p>
<br>
<h5>Opacity Color <em>[opacity]</em></h5>
<p>This is the opacity of the shader.</p>
<p class="note" >Note : Use the <em>No Internal</em> component parameters to activate or deactivate contribution of back-facing polygons.</p>
<br>
<img src="images/Obq_Toon_07.jpg" alt="Opacity and no internal" width=512 >
<p class="idesc">Fig.2 : Left is an opaque sphere, in the middle a semi-opaque sphere and right, semi-opaque sphere with all <em>_noInternal</em> checked.</p>
<br>
<h5>Compositing <em>[global_compMode]</em></h5>
<p>This tells the shader how to composite ambient, diffuse, highlight and rimlight results together in that order.</p>
<table borders="0" cellpadding=0 cellspacing=0 width=700>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="40"><span class="enumElem">Add</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">this will add all the results.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="40"><span class="enumElem">Over</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">this will mix the results one by one using the rule : out = A + (1-A.alpha)*out, where A.alpha is the channel with the greatest value.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="40"><span class="enumElem">Max</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">for each channel, the greatest value of the components will be used.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="40"><span class="enumElem">Screen</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">for each channel, out = A + out - A*out for values of A and out [0,1], else the greatest value between the two.</td></tr>
</table>
<br>
<img src="images/Obq_Toon_05.jpg" alt="global_compMode" width=512 >
<p class="idesc">Fig.3 : A sphere with grey diffuse, reddish highlight and bluish rimlight. From left to right: <em>Add</em>, <em>Over</em>, <em>Max</em> and <em>Screen</em> mode. There is no apparent highlight on the third sphere because the red channel of the diffuse is higher than the red channel of the highlight.</p>
<br>
<h5>Multiply by Light Color <em>[global_multByLightColor]</em></h5>
<p>When checked, this multiplies all light samples by the light color.</p>
<p class="note" >Note : In theory, this should always be checked. If it's off, you wont have any shadows.</p>
<br>
<h5>Clamp Before Compositing <em>[global_clamp]</em></h5>
<p>When checked, this clamps the values of the accumulated results before compositing a new component.</p>
<p class="note" >Note : This helps solidify colors.</p>
<br>
<hr/>
<h4>Diffuse/Highlight/Rimlight</h4>
<p>The diffuse component uses the N dot L of the Lambertian model, the highlight component uses the N dot H of the Blinn-Phong model and the rimlight uses the N dot V to to determine shading. Once this shading is calculated, it is remapped with respect to the <em>Coverage</em>, <em>Softness</em> and <em>Exponent</em> parameters.</p>
<br>
<h5>Color <em>[_color]</em></h5>
<p>This is the color of the diffuse component.</p>
<br>
<h5>Scale <em>[_scale]</em></h5>
<p>This is the scale of the diffuse component.</p>
<br>
<h5>Exponent <em>[highlight_exponent]</em></h5>
<p>The bigger the exponent, the smaller the highlight.</p>
<br>
<h5>Coverage <em>[_coverage]</em></h5>
<p>This will somewhat scale down the span of the lit portion of the object.</p>
<br>
<img src="images/Obq_Toon_03.jpg" alt="Coverage" width=512 >
<p class="idesc">Fig.4 : Different values of <em>Coverage</em> = {1.0, 0.5, 0.25, 0.0}.</p>
<p class="note" >Note : dot = 1-(1-dot)/coverage</p>
<br>
<h5>Softness <em>[_softness]</em></h5>
<p>This will somewhat push highest values down. Use a value of 0 for a classic toon look.</p>
<br>
<img src="images/Obq_Toon_04.jpg" alt="Softness" width=512 >
<p class="idesc">Fig.5 : Different values of <em>Softness</em> = {1.0, 0.5, 0.25, 0.0}.</p>
<p class="note" >Note : dot = dot/softness. When used for highlight, if you put 0 here you should use a <em>Coverage of less than 1,</em></p>
<br>
<h5>No Internal <em>[_noInternal]</em></h5>
<p>This will deactivate contribution of back-facing polygons.</p>
<br>
<hr/>
<h4>AOVs</h4>
<p>You can also render all components in seperate AOVs.</p>
<p class="note" >Note : If a recently created AOV doesn't show in the list, close the shader UI and reopen it.</p>
<br>
<h5>Create/Set default AOVs with prefix</h5>
<p>Pressing this button will set the AOVs' names, or create them if they do not exist, using the prefix and the default names rule.</p>
<br>
<h5>Contour AOV</h5>
<p>This can help you do contours in compositing by edge detecting its channels.</p>
<table borders="0" cellpadding=0 cellspacing=0 width=700>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="40"><span class="enumElem">Red</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">Depth.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="40"><span class="enumElem">Green</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">Polygon ID.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="40"><span class="enumElem">Blue</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">Object ID.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="40"><span class="enumElem">Alpha</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">Incidence.</td></tr>
</table>
<p class="note" >Note : Object IDs start at 1 in order to have the background equal 0.</p>
<br>
<h5>Set Alpha to Over Alpha <em>[putAlphaInFb]</em></h5>
<p>When checked, an RGBA AOV will have an alpha equal to the alpha used for compositing in over mode.</p>
<br>
<h5>Normalize Object ID in Contour <em>[normalizeObjectID]</em></h5>
<p>When checked, the object IDs used for the blue channel in the contour AOV will be normalized.</p>
</div>
</div>
<div id="footer">Copyright &copy; 2011-2015, ObliqueFX. All Rights Reserved. </div>
</div>
</body>
</html>
