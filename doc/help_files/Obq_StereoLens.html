<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
<title>Obq Arnold Shaders-Obq_StereoLens</title>
<meta http-equiv="Content-Language" content="en-us" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="description" content="Obq_Shaders for Arnold" />
<meta name="keywords" content="Obq_Shaders" />
<meta name="author" content="Marc-Antoine Desjardins - Oblique FX" />
<style type="text/css" media="all">@import "../css/master.css";</style>
</head>
<body>
<div id="page-container">
<div id="banner"><img src="../images/banner.jpg" alt="Banner"></div>
<div id="topMenu">
<div id="topMenu-left">
<a href="http://www.obliquefx.com"><img src="../images/oblique.png" alt="Oblique Logo" width = "150px"></a></div>
<div id="topMenu-right"><table border="0" cellpadding="9" cellspacing="0"><tr>
<td width="50"> </td>
<td><a href="../index.html">Home</a></td>
<td>|</td>
<td><a href="../news.html">News</a></td>
<td>|</td>
<td><a href="../documentation.html">Documentation</a></td>
<td>|</td>
<td><a href="../downloads.html">Downloads</a></td>
<td>|</td>
<td><a href="../about.html">About</a></td>
<td width="50"> </td>
</tr></table>
</div>
</div>
<div id="content">
<div id="content-sidebar">
<p align="left">Node Reference</p>
<table border="0" cellpadding ="2" cellspacing ="0">
<tr><td width="2"></td><td><a href="Obq_AngularCamera.html">Obq_AngularCamera</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Atmosphere.html">Obq_Atmosphere</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Bend4Stereo.html">Obq_Bend4Stereo</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_CameraProjectionSpace.html">Obq_CameraProjectionSpace</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_ChangeRange.html">Obq_ChangeRange</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Color.html">Obq_Color</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_ColorspaceConverter.html">Obq_ColorspaceConverter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Environment.html">Obq_Environment</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Etching.html">Obq_Etching</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Fresnel.html">Obq_Fresnel</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Fresnel2Standards.html">Obq_Fresnel2Standards</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Hair.html">Obq_Hair</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_IESLightFilter.html">Obq_IESLightFilter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_KettleUVStereoLens.html">Obq_KettleUVStereoLens</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_LensDistortion.html">Obq_LensDistortion</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_LightSaturationFilter.html">Obq_LightSaturationFilter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MeasuredMaterial.html">Obq_MeasuredMaterial</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MessageGet.html">Obq_MessageGet</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MessageSet.html">Obq_MessageSet</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MessageStore.html">Obq_MessageStore</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_NodeInfo.html">Obq_NodeInfo</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Opacity.html">Obq_Opacity</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RandomColor.html">Obq_RandomColor</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RandomID.html">Obq_RandomID</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RayDepth.html">Obq_RayDepth</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RGBComEmit.html">Obq_RGBComEmit</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RGBComLightFilter.html">Obq_RGBComLightFilter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Root2Tip.html">Obq_Root2Tip</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_SetAlpha.html">Obq_SetAlpha</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Shadow.html">Obq_Shadow</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Simbiont.html">Obq_Simbiont</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_SpectrumColor.html">Obq_SpectrumColor</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_StereoLens.html">Obq_StereoLens</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_SurfaceEnvironment.html">Obq_SurfaceEnvironment</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Thickness.html">Obq_Thickness</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Toon.html">Obq_Toon</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_ToonSimple.html">Obq_ToonSimple</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_TransformShadingPoint.html">Obq_TransformShadingPoint</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_TransformUV.html">Obq_TransformUV</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_UVRemapLensDistortion.html">Obq_UVRemapLensDistortion</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_VolumeThickness.html">Obq_VolumeThickness</a></td></tr>
</table>
</div>
<div id="content-help"><br>
<h2>Obq_StereoLens</h2>
<br>
<h5>Class</h5>
<p>Lens</p>
<br>
<h5>Synopsis</h5>
<p>A camera lens shader that allows you to render a pair of stereo images into a single frame.</p>
<br>
<img src="images/Obq_StereoLens_01.jpg" alt="Synopsis image"  >
<p class="idesc">Fig.1 : Example of lizard rendered with Obq_StereoLens.</p>
<p class="warning">Warning : Using SItoA 3.1.2 and up, you need to add an Arnold Camera Option property and select "Custom (lens shader)" as the camera type.</p>
<br>
<h5>Usage</h5>
<p>Simply use the Obq_StereoLens as a lens shader on the center camera of the Softimage stereo camera rig or your own rig. Pick the left and right camera. When you render, select the center camera and make sure the scene/pass output resolution is equal to the Render Resolution of the shader. Once rendered, copy-paste the crop node text in Nuke to create left crop and right crop nodes. You can also add depth of field from within the shader UI.</p>
<br>
<hr/>
<h4>View Mode</h4>
<br>
<h5>View Mode <em>[viewMode1]</em></h5>
<p>This is the type of frame that will be rendered :</p>
<table borders="0" cellpadding=0 cellspacing=0 width=700>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="160"><span class="enumElem">Center Camera</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">because the lens shader is applied to the center camera, this is the view as is.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="160"><span class="enumElem">Left Camera</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">renders what the left camera views.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="160"><span class="enumElem">Right Camera</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">renders what the right camera views.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="160"><span class="enumElem">Stereo Camera &lt;Side-by-Side&gt;</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">renders a single frame of the stereo camera pair, the left camera subframe to the left side and the right camera subframe to the right.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="160"><span class="enumElem">Stereo Camera &lt;over-under&gt;</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">like the previous option, but the left camera subframe will be at the bottom and the right camera subframe will be on top. This is the prefered rendering mode for stereo image pair.</td></tr>
</table>
<p class="note" >Note : Whenever you use a Stereo Camera &lt;...&gt; view mode, the output resolution in the proper dimension will be doubled.</p>
<br>
<hr/>
<h4>Cameras</h4>
<br>
<h5>Left <em>[leftCamera]</em></h5>
<p>The full name of the left camera.</p>
<p class="note" >Note : You can click on the "Pick Left and Right Cameras" button to begin a pick session.</p>
<br>
<h5>Right <em>[rightCamera]</em></h5>
<p>The full name of the right camera.</p>
<br>
<h5>Status <em>[cameraStatus]</em></h5>
<p>This will indicate if both cameras are valid.</p>
<br>
<hr/>
<h4>Automatic Overscan</h4>
<br>
<h5>Enable <em>[useOverscan]</em></h5>
<p>Enables the automatic overscan mode to counter the blended lines of pixels. This should always be checked.</p>
<br>
<h5>Filter Size <em>[filterSize]</em></h5>
<p>The width of the filter in the render options &gt; Sampling &gt; Pixel Filtering &gt; Width.</p>
<p class="note" >Note : Because of filtering, the lines of pixels immediately next to the left-right border are blended, the floor(filter_width/2) lines in fact. To correct this, an automatic overscan mode was created. Make sure the render width and height are correct. Copy-paste the left/right crop text in Nuke to create the adequate crop nodes.</p>
<br>
<hr/>
<h4>Target Resolution</h4>
<br>
<h5>Width <em>[targetResolutionX]</em></h5>
<p>The final width in pixels you want each left/right frame to have.</p>
<br>
<h5>Height <em>[targetResolutionY]</em></h5>
<p>The final height in pixels you want each left/right frame to have.</p>
<br>
<hr/>
<h4>Render Resolution</h4>
<br>
<h5>Width <em>[renderResolutionX]</em></h5>
<p>The width in pixels needed to give the target width once cropped because of blended pixels.</p>
<br>
<h5>Height <em>[renderResolutionY]</em></h5>
<p>The height in pixels needed to give the target height once cropped because of blended pixels.</p>
<br>
<h5>Automatic update of pass output resolution <em>[updatePassResolution]</em></h5>
<p>Checking this will enable the update of the resolution automatically in the pass options.</p>
<br>
<hr/>
<h4>Nuke Info</h4>
<p>Copy-paste the text to create the proper crop nodes in Nuke.</p>
<br>
<hr/>
<h4>Depth of Field</h4>
<br>
<h5>Enable <em>[useDof]</em></h5>
<p>Enable the depth of field.</p>
<p class="note" >Note : If you enable this here, you don't need to enable it in the Render Options.</p>
<p class="note" >Note : The result is not exactly the same as Arnold's default DoF, but it's very similar.</p>
<br>
<h5>Distance <em>[focusDistance]</em></h5>
<p>The distance at which an object is in focus.</p>
<br>
<h5>Focus plane is a plane <em>[focusPlaneIsPlane]</em></h5>
<p>Wether or not the focus plane is actually a plane or curved plane (on by default).</p>
<br>
<h5>Recalculate focus distance for left and right cameras<em>[recalculateDistanceForSideCameras]</em></h5>
<p>This allows to adjust the focus distance, given for the center camera, for the left and right camera. Don't check this if you're using an off-axis stereo type rig.</p>
<br>
<h5>Size <em>[apertureSize]</em></h5>
<p>This size controls the amount of blur (size of the iris).</p>
<br>
<h5>Aspect Ratio <em>[apertureAspectRatio]</em></h5>
<p>The aspect ratio of the lens. Values smaller than 1 will give an horizontal elongated oval vand values greater than 1 will give a vertical elongated oval.</p>
<br>
<h5>Polygonal Aperture <em>[usePolygonalAperture]</em></h5>
<p>The shape of the iris is polygonal instead of circular.</p>
<br>
<h5>Blades <em>[apertureBlades]</em></h5>
<p>The number of blades the iris has. For example, using 5 blades will give a pentagon shaped iris.</p>
<br>
<h5>Blade Curvature <em>[apertureBladeCurvature]</em></h5>
<p>A value representing how sharp is the shape of the iris. A value of 1 will give a perfect circle. A value of 0 will give a sharp shape. Values smaller than 0, will tend to give a star shape iris.</p>
<br>
<img src="images/Obq_bokeh_04.jpg" alt="Blade curvature" width=512 >
<p class="idesc">Fig.2 : Blade curvature of 1, 0, -1, -2 and -3.</p>
<br>
<h5>Rotation <em>[apertureRotation]</em></h5>
<p>The rotation in degrees of the shape of the iris.</p>
<br>
<hr/>
<h4>Bokeh Quality</h4>
<p>The bokeh "quality" look can be altered using a bias and gain parameters. This effectively changes the distribution of the rays.</p>
<p class="note" >Note : These parameters will eventually be replaced by better sampling functions and image based bokeh.</p>
<br>
<h5>Invert <em>[bokehInvert]</em></h5>
<p>Invert the output of the bias/gain operation.</p>
<br>
<h5>Bias <em>[bokehBias]</em></h5>
<p>Bias control of the bokeh.</p>
<br>
<h5>Gain <em>[bokehGain]</em></h5>
<p>Gain control of the bokeh.</p>
<table borders="0" cellpadding=0 cellspacing=0 width=700>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="90"><span class="enumElem">Poor bokeh</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">(invert, bias, gain)  values around (false, 0.7, 0.2 ).</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="90"><span class="enumElem">Neutral bokeh</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">(invert, bias, gain)  = (false, 0.5, 0.5 ).</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="90"><span class="enumElem">Good bokeh</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">(invert, bias, gain) values around (true, 0.33, 0.685 ).</td></tr>
</table>
<br>
<img src="images/Obq_bokeh_03.jpg" alt="Bokeh looks2" width=256 >
<p class="idesc">Fig.3 : Poor, Neutral and Good bokeh.</p>
</div>
</div>
<div id="footer">Copyright &copy; 2011-2015, ObliqueFX. All Rights Reserved. </div>
</div>
</body>
</html>
